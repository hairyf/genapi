# Presets

genapi provides multiple presets for different HTTP clients and data-fetching layers (e.g. TanStack Query, Pinia Colada).

## Available Presets

### HTTP Client Presets

#### axios

Use [axios](https://axios-http.com/):

```ts
import { axios } from '@genapi/presets'

export default defineConfig({
  preset: axios.ts, // TypeScript
  preset: axios.js, // JavaScript
})
```

#### fetch

Use the native [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API):

```ts
import { fetch } from '@genapi/presets'

export default defineConfig({
  preset: fetch.ts,
  preset: fetch.js,
})
```

#### ky

Use the lightweight [ky](https://github.com/sindresorhus/ky):

```ts
import { ky } from '@genapi/presets'

export default defineConfig({
  preset: ky.ts,
  preset: ky.js,
})
```

#### got

Use [got](https://github.com/sindresorhus/got):

```ts
import { got } from '@genapi/presets'

export default defineConfig({
  preset: got.ts,
  preset: got.js,
})
```

#### ofetch

Use [ofetch](https://github.com/unjs/ofetch) (UnJS ecosystem, with TypeScript support):

```ts
import { ofetch } from '@genapi/presets'

export default defineConfig({
  preset: ofetch.ts,
  preset: ofetch.js,
})
```

#### uni

Use [@uni-helper/uni-network](https://github.com/uni-helper/uni-network) (UniApp network layer):

```ts
import { uni } from '@genapi/presets'

export default defineConfig({
  preset: uni.ts,
  preset: uni.js,
})
```

### Data Layer Presets (TypeScript only)

The following presets generate **fetcher functions plus hooks/composables**. They only support TypeScript (no `.js` mode).

#### TanStack React Query

Uses [@tanstack/react-query](https://tanstack.com/query/latest). Generates a fetcher and `useQuery` / `useMutation` per operation:

```ts
import { tanstackQuery } from '@genapi/presets'

export default defineConfig({
  preset: tanstackQuery.react,
  input: 'https://petstore3.swagger.io/api/v3/openapi.json',
  output: { main: 'src/api/index.ts' },
})
```

Generated code example:

```ts
import { useQuery, useMutation } from '@tanstack/react-query'

export async function getPets(config?: RequestInit) { /* ... */ }
export function useGetPets(/* params */) {
  return useQuery({ queryKey: ['getPets', /* ... */], queryFn: () => getPets(/* ... */) })
}
export function usePostPets() {
  return useMutation({ mutationFn: postPets })
}
```

#### TanStack Vue Query

Uses [@tanstack/vue-query](https://tanstack.com/query/latest/docs/vue/overview) (Vue version of useQuery/useMutation):

```ts
import { tanstackQuery } from '@genapi/presets'

export default defineConfig({
  preset: tanstackQuery.vue,
  input: 'https://petstore3.swagger.io/api/v3/openapi.json',
  output: { main: 'src/api/index.ts' },
})
```

#### Pinia Colada

Uses [@pinia/colada](https://pinia-colada.esm.dev/) for type-safe query/mutation with Vue + Pinia (API: `key` + `query` / `mutation`):

```ts
import { tanstackQuery } from '@genapi/presets'

export default defineConfig({
  preset: tanstackQuery.colada,
  input: 'https://petstore3.swagger.io/api/v3/openapi.json',
  output: { main: 'src/api/index.ts' },
})
```

Generated code example:

```ts
import { useQuery, useMutation } from '@pinia/colada'

export async function getPets(config?: RequestInit) { /* ... */ }
export function useGetPets(/* params */) {
  return useQuery({ key: ['getPets', /* ... */], query: () => getPets(/* ... */) })
}
export function usePostPets() {
  return useMutation({ mutation: postPets })
}
```

## TypeScript vs JavaScript

- **TypeScript presets** (`*.ts`): Generate TypeScript with full type definitions
- **JavaScript presets** (`*.js`): Generate JavaScript plus `.d.ts` type files
- **TanStack / Colada presets**: TypeScript only, no JS mode

## Recommendations

| Use case | Preset |
|----------|--------|
| General web | `axios.ts`, `fetch.ts` |
| Node.js | `got.ts`, `ky.ts` |
| Nuxt / UnJS | `ofetch.ts` |
| UniApp | `uni.ts` |
| React + server state | `tanstackQuery.react` |
| Vue + server state | `tanstackQuery.vue` |
| Vue + Pinia data layer | `tanstackQuery.colada` |

## Next Steps

To customize the generation process, see [Custom Pipeline](/en/guide/custom-pipeline).
